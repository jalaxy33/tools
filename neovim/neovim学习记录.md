
[neovim](https://neovim.io/)（后面简称 nvim） 是一个更加现代化的vim。

我的配置：[jalaxy33/nvim.config](https://github.com/jalaxy33/nvim.config)

## 第一步

在安装完 neovim 后，推荐先看看这些内容：

1. 为了后续能快速上手 nvim 配置，学习一下 lua 语法，例如 [Learn lua in Y minutes](https://learnxinyminutes.com/zh-cn/lua/)
2. nvim的内置教程文档，如 `:Tutor`（初学者入门指南） 和 `:help`（详细的帮助手册）

## 基本操作

nvim 与 vim 的键位基本一致，这里的内容基本来自 `:Tutor`。

### 文件操作

- 从命令行打开文件：`nvim <FILENAME>`
- 退出nvim：`:q!`（放弃修改），`:wq`（保存退出）
- 放弃修改但不退出：`:e!`
- 编辑指定文件：「`:e` + 文件名」
- 保存修改但不退出：「`:w` + 可加文件名」
- 保存部分修改：「`v` + 保存的范围」+ 「`:w` + 可加文件名」

### 基础移动

- 光标移动：`h/j/k/l`（左/下/上/右）
- `w`：到下个词之前
- `e`：到这个词末尾
- `$`：行尾
- `^` 或 `0`：行首

> 前面加数字表示重复操作几次

### 全局移动

- `Ctrl+g`：查看当前光标位置情况
- 到第几行：「数字+`G`」
- 到文件开头：`gg`
- 到文件末尾：`G`

### 修改

- 插入：`i/a`（在字符前/后），`I/A`（在行前/后）
  - 在前面输入「数字+动作」可以表示重复次数，如 `2e`+`a` 在 2 个词之后插入。
- 插入新行：`o`（在行后），`O`（在行前）
- 合并两行：`J`
- 删除字符：`x`
- 删除：「`d` + 动作」
  - 删除到下个词之前：`dw`（`w`前加数字表示重复次数，如`d2w`）
  - 删除到这个词末尾：`de`（`e`前加数字表示重复次数，如`d3e`）
  - 删除到行尾：`d$`
  - 删除到行首：`d^`
  - 删除整行：`dd`（前面加数字表示同时删除几行，如`2dd`）
- 替换字符：`r`+待替换字符
- 修改：「`c` + 动作」，跟删除类似。

> 删除（`d`）和修改（`c`）同时也是「复制」。

### 撤销/恢复修改

- 撤销：`u`（撤销一次），`U`（撤销同一行的修改）
- 恢复：`ctrl+r`

### 跳转

- 跳回到原来的位置：`ctrl+o`
- 再次跳到之前跳转的位置：`ctrl+i`

### 括号匹配

- 匹配最近括号：`%`

### 搜索

- 搜索：`/`（向后搜索），`?`（向前搜索）
  - `n`（下一个结果），`N`（上一个结果）
  
可以结合 `ctrl+o` / `ctrl+i` 跳转位置。

### 搜索选项

全局设置：`:set`

- 大小写不敏感：`:set ic`（`ignorecase`）
  - 大小写敏感：`:set noic`
- 搜索高亮：`:set hls`（`hlsearch`）
- 增量搜索：输入的每个字符都会搜索，`:set is`（`incsearch`）

反转设置：

- 在选项前加 `inv`，如 `:set invic`
- 或加 `no`，如 `:set noic`

临时设置：

- `:nohlsearch` 取消当前搜索高亮
- 设置大小写敏感（当前）：在搜索命令后加 `\c`，如 `/sth\c`

### 替换

- 替换首次出现的：`:s/old/new/`（将 "old" 替换为 "new"）
- 替换一行中的：`:s/old/new/g` （`g` 表示全局）
- 范围替换：`:#,#s/old/new/g`（`#,#` 表示替换的行号范围）
- 全文替换：`:%s/old/new/g`（加上 `%`）
- 每次替换前都询问：后面加 `c`，如 `:%s/old/new/gc`

### 复制粘贴

- 复制：`y`（复制选择的内容）

  选择复制的内容
  - 「`y` + 动作」，如 `yw`
  - 「`v` 模式选择 + `y`」

- 粘贴：`p`（在光标后），`P`（在光标前）

### 执行命令行

- 执行外部命令：「`:!` + 命令」
- 命令行补全：`ctrl+d`（触发补全）、`tab`（下一个选项）、`shift+tab`（上一个选项）

### 读取外部内容

- 读取文件并写入当前位置：「`:r` + 文件名」
- 读取外部命令结果并写入：「`:r !` + 外部命令」

### 获取帮助

- 帮助文档：`F1` 或 `:help`
  - 对应主题的文档：「`:help` + 主题」
  - 光标在两个窗口移动 `ctrl+w` + `ctrl+w`
